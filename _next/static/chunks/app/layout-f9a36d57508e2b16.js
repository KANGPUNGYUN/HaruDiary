(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8469:function(e,s,n){Promise.resolve().then(n.bind(n,4389))},1728:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return o}});var t=n(7437),i=n(6691),r=n.n(i),a=n(1396),l=n.n(a);function o(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(l(),{href:"/",className:"p-navbar__logo",children:[(0,t.jsx)(r(),{src:"/logo.png",alt:"하루쓰기 홈으로 이동하기",width:"40",height:"40"}),(0,t.jsx)("h1",{className:"p-navbar__logo__text",children:"하루쓰기"})]})})}},4389:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return w}});var t=n(7437);n(1735),n(2471);var i=n(2265),r=n(1396),a=n.n(r),l=n(1728),o=n(2749);function c(){let{data:e}=(0,o.useSession)();return e&&e.user?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("button",{onClick:()=>(0,o.signOut)(),children:"로그아웃"})}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("button",{onClick:()=>(0,o.signIn)(),children:"로그인"})})}var d=n(2759),u=n(504),h=n(9222);function f(e){let{toggle:s}=e,{data:n,status:r}=(0,o.useSession)(),[f,m]=(0,i.useState)(0);return(0,i.useEffect)(()=>{if("authenticated"===r&&n&&n.user){let e=async()=>{try{var e,s,t,i;let r=await h.Z.post("".concat("http://localhost:3000","/api/signin/userCheck"),{email:null==n?void 0:n.user.email,auth:null==n?void 0:n.user.provider}),a=r.data;if(null===a)try{let r=await h.Z.post("".concat("http://localhost:3000","/api/signup/signupwithAuth"),{name:null==n?void 0:null===(e=n.user)||void 0===e?void 0:e.name,email:null==n?void 0:null===(s=n.user)||void 0===s?void 0:s.email,auth:null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.provider,password:""});a=null==r?void 0:null===(i=r.data)||void 0===i?void 0:i.id}catch(e){console.error(e)}m(a)}catch(e){console.log(e)}};e()}},[r,n]),(0,t.jsx)("nav",{className:"p-navbar",children:(0,t.jsx)("div",{className:"p-container",children:(0,t.jsx)("div",{className:"p-container__inner p-navbar__inner-container",children:(0,t.jsxs)("div",{className:"p-navbar__logo-container",children:[(0,t.jsx)(l.default,{}),(0,t.jsxs)("ul",{className:"p-navbar-tabmenu-ul",children:[[{id:1,title:"소개",href:"/about"},{id:2,title:"모두의 하루",href:"/user"},{id:3,title:"나의 하루",href:"/user/".concat(f)},{id:4,title:"하루쓰기",href:"/user/write"},{id:5,title:"마이페이지",href:"/mypage"}].map(e=>(0,t.jsx)("li",{className:"p-navbar-tabmenu-item",children:(0,t.jsx)(a(),{href:e.href,children:e.title})},"".concat(e.id))),(0,t.jsx)("li",{className:"p-navbar-tabmenu-item-login",children:(0,t.jsx)(a(),{href:"/sign_in",children:(0,t.jsx)(c,{})})})]}),(0,t.jsx)("button",{className:"m-navbar-tabmenu",onClick:s,children:(0,t.jsx)(u.G,{icon:d.xiG,style:{color:"#2f3438"}})})]})})})})}function m(e){let{isOpen:s,toggle:n}=e,r=(0,i.useRef)(null),{data:f,status:m}=(0,o.useSession)(),[p,x]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let e=e=>{var t;(null===(t=r.current)||void 0===t?void 0:t.contains(e.target))||!s||n(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,i.useEffect)(()=>{if("authenticated"===m&&f&&f.user){let e=async()=>{try{let e=await h.Z.post("".concat("http://localhost:3000","/api/signin/userCheck"),{email:null==f?void 0:f.user.email,auth:null==f?void 0:f.user.provider}),s=e.data;null!==s&&x(s)}catch(e){console.log(e)}};e()}},[m,f]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"m-sidebar-outer",style:{overflow:"".concat(s?"visible":"hidden"),opacity:"".concat(s?"1":"0"),right:" ".concat(s?"0":"-100%"),transition:" ".concat(s?"":"0.3s ease")},children:(0,t.jsxs)("div",{className:"m-sidebar ".concat(s?"active":"inactive"),ref:r,children:[(0,t.jsxs)("div",{className:"m-sidebar-top",children:[(0,t.jsx)("div",{className:"m-sidebar-logo-wrapper",onClick:()=>{n(!1)},children:(0,t.jsx)(l.default,{})}),(0,t.jsx)("button",{className:"m-sidebar-tabmenu",onClick:()=>{n(!1)},children:(0,t.jsx)(u.G,{icon:d.g82,style:{color:"#2f3438",verticalAlign:"2.89px"}})})]}),(0,t.jsx)(a(),{href:"/sign_in",children:(0,t.jsx)(c,{})}),(0,t.jsx)("hr",{className:"m-sidebar-tabmenu-hr"}),(0,t.jsx)("ul",{className:"m-sidebar-tabmenu-ul",children:[{id:1,title:"소개",href:"/about"},{id:2,title:"모두의 하루",href:"/user"},{id:3,title:"나의 하루",href:"/user/".concat(p)},{id:4,title:"하루쓰기",href:"/user/write"},{id:5,title:"마이페이지",href:"/mypage"}].map(e=>(0,t.jsx)("li",{className:"m-sidebar-tabmenu-item",onClick:()=>{n(!1)},children:(0,t.jsx)(a(),{href:e.href,children:(0,t.jsx)("div",{children:e.title})})},"".concat(e.id)))})]})})})}function p(){let[e,s]=(0,i.useState)(!1);function n(){s(!e)}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m,{isOpen:e,toggle:n}),(0,t.jsx)(f,{toggle:n})]})}var x=n(981),v=n.n(x),j=n(62),_=n(7188);function g(){let[e,s]=(0,i.useState)(""),[n,r]=(0,i.useState)(!1),a=e=>{navigator.clipboard.writeText(e).then(()=>{console.log("해당 이메일 주소가 클립보드에 복사되었습니다.")}).catch(()=>{alert("복사하기를 실패했습니다.")})};return(0,i.useEffect)(()=>{if(!n)return;let e=setTimeout(()=>{s(""),r(!1)},1e3);return()=>{s("appear"),clearTimeout(e)}}),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("button",{className:"p-footer-email-copy-button",onClick:()=>{a("zkdvnd@naver.com"),r(!0)},children:[(0,t.jsx)("span",{className:"p-footer-email-copy-button-text ".concat(n?"appear":""),children:"복사완료"}),(0,t.jsx)(u.G,{icon:_.kZ_,width:"10px",height:"10px",color:"white"})]})})}function b(){let[e,s]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),[l,o]=(0,i.useState)(!1);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("footer",{className:"p-footer",children:(0,t.jsxs)("div",{className:"p-footer__inner",children:[(0,t.jsxs)("address",{className:"p-footer__address",children:[(0,t.jsx)("div",{className:"p-footer__address__company",children:(0,t.jsx)("strong",{className:"p-footer__address__company-name",children:"하루쓰기 | Haru Diary"})}),(0,t.jsxs)("div",{className:"p-footer__address__company-rules",children:[(0,t.jsx)(a(),{href:"/about",children:"서비스 소개"}),(0,t.jsx)(a(),{href:"/policy",children:"이용약관"}),(0,t.jsx)(a(),{href:"/privacy",children:"개인정보처리방침"})]}),"Developer : 강풍윤",(0,t.jsx)("br",{}),"e-mail : zkdvnd@naver.com ",(0,t.jsx)(g,{})]}),(0,t.jsxs)("ul",{className:"p-footer__social-list",children:[(0,t.jsx)(a(),{href:"https://github.com/KANGPUNGYUN",className:"p-footer__social-list-item",onMouseOver:()=>s(!0),onMouseLeave:()=>s(!1),children:(0,t.jsx)(u.G,{className:"p-footer__social-list-item__icon",icon:j.zhw,style:e?{color:"#ffffff"}:{color:"#8b8d91"}})}),(0,t.jsx)(a(),{href:"https://www.linkedin.com/in/pungyun-kang-b2677a212/",className:"p-footer__social-list-item",onMouseOver:()=>r(!0),onMouseLeave:()=>r(!1),children:(0,t.jsx)(u.G,{className:"p-footer__social-list-item__icon",icon:j.hwn,style:n?{color:"#ffffff"}:{color:"#8b8d91"}})}),(0,t.jsx)(a(),{href:"https://velog.io/@kangpungyun",className:"p-footer__social-list-item",onMouseOver:()=>o(!0),onMouseLeave:()=>o(!1),children:(0,t.jsx)(u.G,{className:"p-footer__social-list-item__icon",icon:j.air,style:l?{color:"#ffffff"}:{color:"#8b8d91"}})})]}),(0,t.jsx)("div",{className:"p-footer__copyright",children:"Copyright 2023. KANGPUNGYUN. All rights reserved."})]})})})}var N=n(4033),y=function(e){let{children:s}=e;return(0,t.jsx)(o.SessionProvider,{children:s})};function w(e){let{children:s}=e,n=(0,N.usePathname)();return(0,t.jsxs)("html",{children:[(0,t.jsx)(v(),{children:(0,t.jsx)("link",{rel:"shortcut icon",href:"/favicon.ico"})}),(0,t.jsx)("body",{children:(0,t.jsxs)(y,{children:["/sign_in"!==n&&"/sign_up"!==n&&"/sign_up/success"!==n&&(0,t.jsx)(p,{}),s,"/sign_in"!==n&&"/sign_up"!==n&&"/sign_up/success"!==n&&(0,t.jsx)(b,{})]})})]})}},2471:function(){},1735:function(){}},function(e){e.O(0,[676,958,685,35,222,232,144,659,971,596,744],function(){return e(e.s=8469)}),_N_E=e.O()}]);